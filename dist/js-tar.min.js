!function(e){function t(){}function r(e){this.bytes=e,this.byteIndexCurrent=0}function i(){}function n(){}function a(e,t){this.value=e,this.id="_"+e,this.name=t}function s(){this.Normal=new a(0,"Normal"),this.HardLink=new a(1,"Hard Link"),this.SymbolicLink=new a(2,"Symbolic Link"),this.CharacterSpecial=new a(3,"Character Special"),this.BlockSpecial=new a(4,"Block Special"),this.Directory=new a(5,"Directory"),this.FIFO=new a(6,"FIFO"),this.ContiguousFile=new a(7,"Contiguous File"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile];for(var e=0;e<this._All.length;e++){var t=this._All[e];this._All[t.id]=t}}function o(e,t,r,i,n,a,s,o,y,h,l,u,d,B,f,c){this.fileName=e,this.fileMode=t,this.userIDOfOwner=r,this.userIDOfGroup=i,this.fileSizeInBytes=n,this.timeModifiedInUnixFormat=a,this.checksum=s,this.typeFlag=o,this.nameOfLinkedFile=y,this.uStarIndicator=h,this.uStarVersion=l,this.userNameOfOwner=u,this.groupNameOfOwner=d,this.deviceNumberMajor=B,this.deviceNumberMinor=f,this.filenamePrefix=c}function y(e,t){this.header=e,this.dataAsBytes=t}function h(e,t){this.fileName=e,this.entries=t}function l(){}FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t="",r=this,i=new FileReader;i.onload=function(e){for(var n=new Uint8Array(i.result),a=n.byteLength,s=0;a>s;s++)t+=String.fromCharCode(n[s]);r.content=t,$(r).trigger("onloadend")},i.readAsArrayBuffer(e)});var u=function(e,t){var r=new FileReader;r.onloadend=function(){var e=null;r.readyState===FileReader.DONE&&(e=r.result),e||(e=r.content),t&&t(e)},r.readAsBinaryString(e)};t.BitsPerByte=8,t.BitsPerNibble=t.BitsPerByte/2,t.ByteValueMax=Math.pow(2,t.BitsPerByte)-1,t.bytesToStringHexadecimal=function(e){for(var r="",i=t.BitsPerNibble,n=0;n<e.length;n++){for(var a=e[n],s=1;s>=0;s--){var o=a>>i*s&15,y="";y+=10>o?o:String.fromCharCode(55+o),r+=y}r+=" "}return r},t.bytesToStringUTF8=function(e){for(var t="",r=0;r<e.length;r++){var i=e[r],n=String.fromCharCode(i);t+=n}return t},t.bytesToNumber=function(e){for(var r=0,i=t.BitsPerByte,n=0;n<e.length;n++){var a=e[n],s=a<<i*n;r+=s}return r},t.numberOfBytesNeededToStoreNumber=function(e){var r=Math.ceil(Math.log(e+1)/Math.log(2)),i=Math.ceil(r/t.BitsPerByte);return i},t.numberToBytes=function(e,r){var i=[];null==r&&(r=this.numberOfBytesNeededToStoreNumber(e));for(var n=t.BitsPerByte,a=0;r>a;a++){var s=e>>n*a&255;i.push(s)}return i},t.stringUTF8ToBytes=function(e){for(var t=[],r=0;r<e.length;r++){var i=e.charCodeAt(r);t.push(i)}return t},t.xorBytesWithOthers=function(e,t){for(var r=0;r<e.length;r++)e[r]^=t[r];return e},r.BitsPerByte=8,r.BitsPerByteTimesTwo=2*r.BitsPerByte,r.BitsPerByteTimesThree=3*r.BitsPerByte,r.prototype.hasMoreBytes=function(){return this.byteIndexCurrent<this.bytes.length},r.prototype.peekBytes=function(e){for(var t=[],r=0;e>r;r++)t[r]=this.bytes[this.byteIndexCurrent+r];return t},r.prototype.readBytes=function(e){for(var t=[],r=0;e>r;r++)t[r]=this.readByte();return t},r.prototype.readByte=function(){var e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e},r.prototype.readInt=function(){var e=255&this.readByte()|(255&this.readByte())<<r.BitsPerByte|(255&this.readByte())<<ByteStreamLittleEndianBitsPerByteTimesTwo|(255&this.readByte())<<ByteStreamLittleEndianBitsPerByteTimesThree;return e},r.prototype.readShort=function(){var e=255&this.readByte()|(255&this.readByte())<<ByteStreamLittleEndianBitsPerByte;return e},r.prototype.readString=function(e){for(var t="",r=0;e>r;r++){var i=this.readByte();if(0!=i){var n=String.fromCharCode(i);t+=n}}return t},r.prototype.writeBytes=function(e){for(var t=0;t<e.length;t++)this.bytes.push(e[t]);this.byteIndexCurrent=this.bytes.length},r.prototype.writeByte=function(e){this.bytes.push(e),this.byteIndexCurrent++},r.prototype.writeInt=function(e){this.bytes.push(255&e),this.bytes.push((65280&e)>>>ByteStreamLittleEndianBitsPerByte),this.bytes.push((16711680&e)>>>ByteStreamLittleEndianBitsPerByteTimesTwo),this.bytes.push((4278190080&e)>>>ByteStreamLittleEndianBitsPerByteTimesThree),this.byteIndexCurrent+=4},r.prototype.writeShort=function(e){this.bytes.push(255&e),this.bytes.push((65280&e)>>>ByteStreamLittleEndianBitsPerByte),this.byteIndexCurrent+=2},r.prototype.writeString=function(e){for(var t=0;t<e.length;t++)this.writeByte(e.charCodeAt(t))},i.destroyClickedElement=function(e){document.body.removeChild(e.target)},i.loadFileAsBinaryString=function(e,t,r){var i=new FileReader;i.onloadend=function(i){var n=null;i.target.readyState==FileReader.DONE&&(n=i.target.result),r.call(t,e,n)},i.readAsBinaryString(e)},i.saveBytesAsFile=function(t,r){for(var n=new ArrayBuffer(t.length),a=new Uint8Array(n),s=0;s<t.length;s++)a[s]=t[s];var o=new Blob([n],{type:"application/type"}),y=document.createElement("a");y.download=r,y.innerHTML="Download File",null!=e.webkitURL?y.href=e.webkitURL.createObjectURL(o):(y.href=e.URL.createObjectURL(textFileAsBlob),y.onclick=i.destroyClickedElement,y.style.display="none",document.body.appendChild(y)),y.click()},n.parseString=function(e){for(var t=0,r=e.length,i=0;r>i;i++){var n=e[r-i-1],a=parseInt(n),s=a<<3*i;t+=s}return t},a.Instances=new s,o.fromBytes=function(e){var t=new r(e),i=t.readString(100).trim(),s=t.readString(8),y=t.readString(8),h=t.readString(8),l=t.readString(12).trim(),u=t.readBytes(12),d=t.readBytes(8),B=t.readString(1),f=t.readBytes(100),c=t.readBytes(6),p=t.readBytes(2),g=t.readBytes(32),m=t.readBytes(32),S=t.readBytes(8),v=t.readBytes(8),b=t.readString(155),w=n.parseString(l),F=a.Instances._All,C=F[B],T=new o(i,s,y,h,w,u,d,C,f,c,p,g,m,S,v,b);return T},o.prototype.toString=function(){var e="\n",t="[TarFileEntryHeader fileName='"+this.fileName+"' typeFlag='"+(null==this.typeFlag?"err":this.typeFlag.name)+"' fileSizeInBytes='"+this.fileSizeInBytes+"' ]"+e;return t},y.prototype.buttonDownload_Click=function(e){i.saveBytesAsFile(this.dataAsBytes,this.header.fileName)},y.prototype.toString=function(){var e="\n";headerAsString=this.header.toString();var r=t.bytesToStringHexadecimal(this.dataAsBytes),i="[TarFileEntry]"+e+headerAsString+"[Data]"+r+"[/Data]"+e+"[/TarFileEntry]"+e;return i},h.ChunkSize=512,h.fromBytes=function(e,t){for(var i=new r(t),n=[],a=h.ChunkSize,s=0;1==i.hasMoreBytes();){for(var l=i.readBytes(a),u=!0,d=0;d<l.length;d++)0!=l[d]&&(u=!1);if(1==u){if(s++,2==s)break}else{s=0;var B=o.fromBytes(l),f=B.fileSizeInBytes,c=Math.ceil(f/a),p=c*a,g=i.readBytes(p).slice(0,f),m=new y(B,g);n.push(m)}}var S=new h(e,n);return S},h.prototype.getFileList=function(){return this.entries},h.prototype.toString=function(){for(var e="\n",t="[TarFile]"+e,r=0;r<this.entries.length;r++){var i=this.entries[r],n=i.toString();t+=n}return t+="[/TarFile]"+e},l.unpack=function(e,r){u(e,function(i){var n=t.stringUTF8ToBytes(i),a=h.fromBytes(e.fileName,n);r(a.getFileList())})},l.vresion="0.0.1",e.Tar=l}(window);